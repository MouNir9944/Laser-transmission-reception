Version 4
SHEET 1 1736 680
WIRE -128 -160 -1168 -160
WIRE 336 -160 -128 -160
WIRE 816 -160 336 -160
WIRE 1056 -160 816 -160
WIRE 1264 -160 1056 -160
WIRE 816 -144 816 -160
WIRE 32 -96 -240 -96
WIRE 752 -96 672 -96
WIRE -128 -64 -128 -160
WIRE 1056 -64 1056 -160
WIRE 1264 -64 1264 -160
WIRE -240 -48 -240 -96
WIRE -160 -48 -240 -48
WIRE 336 -48 336 -160
WIRE 32 -32 32 -96
WIRE 32 -32 -96 -32
WIRE 304 -32 224 -32
WIRE -464 -16 -976 -16
WIRE -320 -16 -384 -16
WIRE -160 -16 -320 -16
WIRE 480 -16 368 -16
WIRE 592 -16 592 -96
WIRE 592 -16 480 -16
WIRE 816 -16 816 -48
WIRE 992 -16 816 -16
WIRE 1200 -16 992 -16
WIRE 32 0 32 -32
WIRE 304 0 160 0
WIRE 816 16 816 -16
WIRE -320 48 -320 -16
WIRE 592 64 592 -16
WIRE 752 64 672 64
WIRE 32 112 32 80
WIRE 160 112 160 0
WIRE 160 112 32 112
WIRE 1056 128 1056 32
WIRE 1264 128 1264 32
WIRE 1264 128 1056 128
WIRE -1168 144 -1168 -160
WIRE 32 144 32 112
WIRE 1056 160 1056 128
WIRE -976 208 -976 -16
WIRE 224 272 224 -32
WIRE 592 272 224 272
WIRE 1056 272 1056 240
WIRE 1056 272 672 272
WIRE 1056 288 1056 272
WIRE -1168 384 -1168 224
WIRE -976 384 -976 288
WIRE -976 384 -1168 384
WIRE -320 384 -320 128
WIRE -320 384 -976 384
WIRE -128 384 -128 0
WIRE -128 384 -320 384
WIRE 32 384 32 224
WIRE 32 384 -128 384
WIRE 816 384 816 112
WIRE 816 384 32 384
WIRE 1056 384 1056 368
WIRE 1056 384 816 384
WIRE -1168 400 -1168 384
WIRE -1168 448 -1168 400
WIRE -1168 560 -1168 528
WIRE 336 560 336 16
WIRE 336 560 -1168 560
FLAG -1168 400 0
FLAG 480 -16 output_comparator
SYMBOL voltage -1168 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL res 1040 272 R0
SYMATTR InstName R4
SYMATTR Value 0.1R
SYMBOL res 1040 144 R0
SYMATTR InstName R6
SYMATTR Value 3.958333
SYMBOL voltage -1168 432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 9
SYMBOL res 688 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL res 16 -16 R0
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL res 16 128 R0
SYMATTR InstName R7
SYMATTR Value 75
SYMBOL voltage -976 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 100n 1n 1n 25n 50n 10)
SYMBOL OpAmps\\AD8047 -128 -96 R0
SYMATTR InstName U2
SYMBOL npn 752 -144 R0
SYMATTR InstName Q2
SYMATTR Value 2N2222
SYMBOL OpAmps\\LT1223 336 -80 R0
SYMATTR InstName U3
SYMBOL pnp 752 112 M180
SYMATTR InstName Q3
SYMATTR Value 2N2905A
SYMBOL npn 992 -64 R0
SYMATTR InstName Q1
SYMATTR Value 2N2219A
SYMBOL npn 1200 -64 R0
SYMATTR InstName Q4
SYMATTR Value 2N2219A
SYMBOL res -368 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 330
SYMBOL res -304 144 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 33
SYMBOL res 688 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL res 688 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10
TEXT -160 592 Left 2 !.tran 1us
TEXT 1216 328 Left 2 ;1A => 0.1V
TEXT -464 -200 Left 2 ;DIV 10 (1V => 1A)
TEXT 1144 184 Left 2 ;LASER
TEXT -1008 -112 Left 2 ;Outpur of FPGA : assuming 3.3V high level
TEXT -112 32 Left 2 ;AD8047AN
TEXT 352 48 Left 2 ;LT1223CN8
TEXT -1008 -72 Left 2 ;Maximum current on outputs : 9mA
